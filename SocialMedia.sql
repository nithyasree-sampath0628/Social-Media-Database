PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE POST (
POSTID INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
AUTHOR VARCHAR(50) NOT NULL,
TITLE VARCHAR(200) NOT NULL,
TEXT VARCHAR(200) NOT NULL,
NUMLIKES INTEGER NOT NULL,
FOREIGN KEY (AUTHOR) REFERENCES USER(USERNAME)
);
INSERT INTO POST VALUES(1,'abcd123','Sunset','Clear your mind, watch the sky',30);
INSERT INTO POST VALUES(2,'abcd123','Benny','A photo of my dog, Benny',66);
INSERT INTO POST VALUES(3,'alohatimes','Paris Trip','Made it to the city of love.',54);
INSERT INTO POST VALUES(4,'benbats','Ice skating','If you are skating on thin ice you might as well dance.',60);
INSERT INTO POST VALUES(5,'findme','Concert','I met Harry Styles!',100);
CREATE TABLE COMMENT (
COMMENTID INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
POSTID INTEGER NOT NULL,
AUTHORID INTEGER NOT NULL,
TEXT VARCHAR(200) NOT NULL,
FOREIGN KEY (POSTID) REFERENCES POST(POSTID),
FOREIGN KEY (AUTHORID) REFERENCES USER(USERID)
);
INSERT INTO COMMENT VALUES(1,1,1,'I like it!');
INSERT INTO COMMENT VALUES(2,1,1,'Nice picture!');
INSERT INTO COMMENT VALUES(3,2,1,'Cute');
INSERT INTO COMMENT VALUES(4,3,2,'So Jealous. I want to travel to Paris');
INSERT INTO COMMENT VALUES(5,4,3,'I went too! It was so much fun!');
INSERT INTO COMMENT VALUES(6,5,4,'<3<3<3<3');
CREATE TABLE USER (
USERID INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
USERNAME VARCHAR(50) NOT NULL,
EMAIL VARCHAR(50) NOT NULL
);
INSERT INTO USER VALUES(1,'Nithya','nithyasree.sampath@gmail.edu');
INSERT INTO USER VALUES(2,'Margaret','margaretli01@gmail.edu');
INSERT INTO USER VALUES(3,'Harry','harry.p123@gmail.edu');
INSERT INTO USER VALUES(4,'Peter','peterRocks@gmail.edu');
INSERT INTO USER VALUES(5,'Jane','jane0527@gmail.edu');
INSERT INTO USER VALUES(6,'Perry','perrytheplatypus@gmail.edu');
INSERT INTO USER VALUES(7,'Kate','adorab231@gmail.edu');
CREATE TABLE USERCONVERSATION (
USERID INTEGER NOT NULL,
CONVERSATIONID INTEGER NOT NULL,
FOREIGN KEY (USERID) REFERENCES USER(USERID),
FOREIGN KEY (CONVERSATIONID) REFERENCES CONVERSATION(CONVERSATIONID)
);
INSERT INTO USERCONVERSATION VALUES(1,1);
INSERT INTO USERCONVERSATION VALUES(2,1);
INSERT INTO USERCONVERSATION VALUES(3,2);
INSERT INTO USERCONVERSATION VALUES(4,2);
INSERT INTO USERCONVERSATION VALUES(5,2);
INSERT INTO USERCONVERSATION VALUES(6,3);
INSERT INTO USERCONVERSATION VALUES(7,3);
CREATE TABLE CONVERSATION (
CONVERSATIONID INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT
);
INSERT INTO CONVERSATION VALUES(1);
INSERT INTO CONVERSATION VALUES(2);
INSERT INTO CONVERSATION VALUES(3);
CREATE TABLE MESSAGE (
MESSAGEID INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
AUTHOR VARCHAR(50) NOT NULL,
CONVERSATIONID INTEGER NOT NULL,
TEXT VARCHAR(200) NOT NULL,
FOREIGN KEY (AUTHOR) REFERENCES USER(USERNAME),
FOREIGN KEY (CONVERSATIONID) REFERENCES CONVERSATION(CONVERSATIONID)
);
INSERT INTO MESSAGE VALUES(1,'abcd123',1,'Hello, How are you?');
INSERT INTO MESSAGE VALUES(2,'alohatimes',1,'I am doing well. Did you finish the project?');
INSERT INTO MESSAGE VALUES(3,'benbats',2,'Hey did you see my post?');
INSERT INTO MESSAGE VALUES(4,'findme',2,'Why did you include me in the post?');
INSERT INTO MESSAGE VALUES(5,'astrolog',2,'I think you look really pretty in the picture.');
INSERT INTO MESSAGE VALUES(6,'iwashere',3,'Hey I sent you a message last week. Did you see it?');
INSERT INTO MESSAGE VALUES(7,'rand222',3,'No I did not sorry!');
CREATE TABLE IMAGE (
IMAGEID INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
IMAGEPATH VARCHAR(100),
POSTID INTEGER NOT NULL,
FOREIGN KEY (POSTID) REFERENCES POST(POSTID)
);
INSERT INTO IMAGE VALUES(1,'rand.jpg',1);
INSERT INTO IMAGE VALUES(2,'abc.jpg',2);
INSERT INTO IMAGE VALUES(3,'pic.jpg',3);
INSERT INTO IMAGE VALUES(4,'skate.jpg',4);
INSERT INTO IMAGE VALUES(5,'concert.jpg',5);
CREATE TABLE PROFILE (
PROFILEID INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
NAME VARCHAR(50),
PROFILEPICTURE VARCHAR(50),
BIO VARCHAR(200),
FOREIGN KEY (PROFILEID) REFERENCES USER(USERID)
);
INSERT INTO PROFILE VALUES(1,'Nithya','prof.jpg','Student');
INSERT INTO PROFILE VALUES(2,'Margaret','p.jpg','Student');
INSERT INTO PROFILE VALUES(3,'Harry','pr.jpg','Student');
INSERT INTO PROFILE VALUES(4,'Peter','pro.jpg','Teacher');
INSERT INTO PROFILE VALUES(5,'Jane','picpro.jpg','SJSU');
INSERT INTO PROFILE VALUES(6,'Perry','rand.jpg','HarryPotterLover');
INSERT INTO PROFILE VALUES(7,'Kate','ran.jpg','LoveDisney');
CREATE TABLE STORY (
STORYID INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
CONTENTPATH VARCHAR(100) NOT NULL,
AUTHORID INTEGER NOT NULL,
DATEPOSTED DATETIME,
FOREIGN KEY (AUTHORID) REFERENCES USER(USERID)
);
INSERT INTO STORY VALUES(5,'inst.jpg','abcd123','12/09/2021');
INSERT INTO STORY VALUES(6,'in.jpg','alohatimes','12/09/2021');
INSERT INTO STORY VALUES(7,'ins.jpg','benbats','12/09/2021');
INSERT INTO STORY VALUES(8,'instr.jpg','findme','12/09/2021');
DELETE FROM sqlite_sequence;
INSERT INTO sqlite_sequence VALUES('POST',5);
INSERT INTO sqlite_sequence VALUES('COMMENT',6);
INSERT INTO sqlite_sequence VALUES('USER',7);
INSERT INTO sqlite_sequence VALUES('CONVERSATION',3);
INSERT INTO sqlite_sequence VALUES('MESSAGE',7);
INSERT INTO sqlite_sequence VALUES('IMAGE',5);
INSERT INTO sqlite_sequence VALUES('PROFILE',7);
INSERT INTO sqlite_sequence VALUES('STORY',8);
CREATE VIEW POSTTEXT AS
SELECT NAME, EMAIL
FROM POST;
CREATE VIEW POSTT AS
SELECT AUTHORID, TITLE, TEXT
FROM POST;
CREATE VIEW POSTTEXT2 AS SELECT MESSAGEID, AUTHORID, TEXT FROM MESSAGE;
CREATE VIEW MSGT AS
SELECT MESSAGEID, AUTHORID, TEXT
FROM MESSAGE;
CREATE VIEW CMTT AS
SELECT COMMENTID, AUTHORID, TEXT
FROM COMMENT;
CREATE VIEW IMG AS SELECT IMAGEID, IMAGEPATH FROM IMAGE;
CREATE VIEW PRO AS SELECT PROFILEID, NAME, BIO FROM PROFILE;
CREATE VIEW ST2 AS SELECT STORYID, DATEPOSTED FROM STORY;
COMMIT;
